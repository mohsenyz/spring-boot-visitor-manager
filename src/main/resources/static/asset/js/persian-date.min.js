(function(){function t(t){return(""+t).toPersianDigit()}function e(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return"number"==typeof t?!0:!1}function a(t){return t instanceof Date}function n(t){return t===void 0?!0:!1}function s(t,e){for(var r=t+"";e>r.length;)r="0"+r;return r}function i(t,e){return t-e*Math.floor(t/e)}function o(t){return i(Math.floor(t+1.5),7)}function u(t){return 0==t%4&&!(0===t%100&&0!=t%400)}function h(t){return 682>682*((t-(t>0?474:473))%2820+474+38)%2816}function f(t,e,r){return b-1+365*(t-1)+Math.floor((t-1)/4)+-Math.floor((t-1)/100)+Math.floor((t-1)/400)+Math.floor((367*e-362)/12+(2>=e?0:u(t)?-1:-2)+r)}function c(t){var e,r,a,n,s,o,h,c,m,d,D,l;return e=Math.floor(t-.5)+.5,r=e-b,a=Math.floor(r/146097),n=i(r,146097),s=Math.floor(n/36524),o=i(n,36524),h=Math.floor(o/1461),c=i(o,1461),m=Math.floor(c/365),d=400*a+100*s+4*h+m,4!=s&&4!=m&&d++,D=e-f(d,1,1),l=f(d,3,1)>e?0:u(d)?1:2,month=Math.floor((12*(D+l)+373)/367),day=e-f(d,month,1)+1,[d,month,day]}function m(t,e,r){i=function(t,e){return t-e*Math.floor(t/e)};var a,n;return a=t-(t>=0?474:473),n=474+i(a,2820),r+(7>=e?31*(e-1):30*(e-1)+6)+Math.floor((682*n-110)/2816)+365*(n-1)+1029983*Math.floor(a/2820)+(v-1)}function d(t){var e,r,a,n,s,o,u,h,f,c;return t=Math.floor(t)+.5,n=t-m(475,1,1),s=Math.floor(n/1029983),o=i(n,1029983),1029982===o?u=2820:(h=Math.floor(o/366),f=i(o,366),u=Math.floor((2134*h+2816*f+2815)/1028522)+h+1),e=u+2820*s+474,0>=e&&(e-=1),c=t-m(e,1,1)+1,r=186>=c?Math.ceil(c/31):Math.ceil((c-6)/30),a=t-m(e,r,1)+1,[e,r,a]}function D(t,e,r){var a,n,n=m(t,e,r),a=c(n);return[a[0],a[1]-1,a[2]]}function l(t,e,r){var a=f(t,e+1,r)+Math.floor(.5)/86400,n=d(a),s=o(a);return[n[0],n[1],n[2],s]}function y(t){var e=l(t.getFullYear(),t.getMonth(),t.getDate()),r={};return r.monthDayNumber=e[2]-1,6==e[3]?r.weekDayNumber=1:5==e[3]?r.weekDayNumber=0:4==e[3]?r.weekDayNumber=6:3==e[3]?r.weekDayNumber=5:2==e[3]?r.weekDayNumber=4:1==e[3]?r.weekDayNumber=3:0==e[3]&&(r.weekDayNumber=2),r.year=e[0],r.month=e[1],r.day=r.weekDayNumber,r.date=e[2],r.hours=t.getHours(),r.minutes=10>t.getMinutes()?"0"+t.getMinutes():t.getMinutes(),r.seconds=t.getSeconds(),r.milliseconds=t.getMilliseconds(),r.timeZoneOffset=t.getTimezoneOffset(),r}function M(t){var e=D(t[0]?t[0]:0,t[1]?t[1]:1,t[2]?t[2]:1),r=new Date(e[0],e[1],e[2]);return r.setYear(e[0]),r.setMonth(e[1]),r.setDate(e[2]),r.setHours(t[3]?t[3]:0),r.setMinutes(t[4]?t[4]:0),r.setSeconds(t[5]?t[5]:0),r}function p(t){return[t.year,t.month,t.date,t.hours,t.minutes,t.seconds,t.milliseconds]}var b=1721425.5,v=1948320.5,w={1:{name:{fa:"فروردین"},abbr:{fa:"فرو"}},2:{name:{fa:"اردیبهشت"},abbr:{fa:"ارد"}},3:{name:{fa:"خرداد"},abbr:{fa:"خرد"}},4:{name:{fa:"تیر"},abbr:{fa:"تیر"}},5:{name:{fa:"مرداد"},abbr:{fa:"مرد"}},6:{name:{fa:"شهریور"},abbr:{fa:"شهر"}},7:{name:{fa:"مهر"},abbr:{fa:"مهر"}},8:{name:{fa:"آبان"},abbr:{fa:"آبا"}},9:{name:{fa:"آذر"},abbr:{fa:"آذر"}},10:{name:{fa:"دی"},abbr:{fa:"دی"}},11:{name:{fa:"بهمن"},abbr:{fa:"بهم"}},12:{name:{fa:"اسفند"},abbr:{fa:"اسف"}}},g={1:{name:{fa:"شنبه"},abbr:{fa:"ش"}},2:{name:{fa:"یکشنبه"},abbr:{fa:"ی"}},3:{name:{fa:"دوشنبه"},abbr:{fa:"د"}},4:{name:{fa:"سه شنبه"},abbr:{fa:"س"}},5:{name:{fa:"چهار شنبه"},abbr:{fa:"چ"}},6:{name:{fa:"پنج شنبه"},abbr:{fa:"پ"}},0:{name:{fa:"جمعه"},abbr:{fa:"ج"}}},Y=["اورمزد","بهمن","اوردیبهشت","شهریور","سپندارمذ","خورداد","امرداد","دی به آذز","آذز","آبان","خورشید","ماه","تیر","گوش","دی به مهر","مهر","سروش","رشن","فروردین","بهرام","رام","باد","دی به دین","دین","ارد","اشتاد","آسمان","زامیاد","مانتره سپند","انارام","زیادی"];String.prototype.toPersianDigit=function(t){return this.replace(/\d+/g,function(e){var r,a,n=[],s=[];for(r=0;e.length>r;r+=1)n.push(e.charCodeAt(r));for(a=0;n.length>a;a+=1)s.push(String.fromCharCode(n[a]+(t&&t===!0?1584:1728)));return s.join("")})},Duration=function(t){var e=function(t){return 0>t?Math.ceil(t):Math.floor(t)},r=this._data={},a=t.years||t.year||t.y||0,n=t.months||t.month||t.M||0,s=t.weeks||t.w||t.week||0,i=t.days||t.d||t.day||0,o=t.hours||t.hour||t.h||0,u=t.minutes||t.minute||t.m||0,h=t.seconds||t.second||t.s||0,f=t.milliseconds||t.millisecond||t.ms||0;return this._milliseconds=f+1e3*h+6e4*u+36e5*o,this._days=i+7*s,this._months=n+12*a,r.milliseconds=f%1e3,h+=e(f/1e3),r.seconds=h%60,u+=e(h/60),r.minutes=u%60,o+=e(u/60),r.hours=o%24,i+=e(o/24),i+=7*s,r.days=i%30,n+=e(i/30),r.months=n%12,a+=e(n/12),r.years=a,this},Duration.prototype={weeks:function(){return"Must Implement"},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*this._months},humanize:function(){return"Must Implement"}};var P=function(t){if(!(this instanceof P))return new P(t);if(n(t))this.gDate=new Date;else if(a(t))this.gDate=t;else if(e(t)){var s=t.slice();this.gDate=M(s)}else r(t)?this.gDate=new Date(t):t instanceof P?this.gDate=t.gDate:"/Date("===t.substring(0,6)&&(this.gDate=new Date(parseInt(t.substr(6))));return this.pDate=y(this.gDate),this};P.prototype={version:"0.1.8b",formatPersian:"_default",_utcMode:!1,duration:function(t,e){var r=this.isDuration(t),a="number"==typeof t,n=r?t._data:a?{}:t;return a&&(e?n[e]=t:n.milliseconds=t),new Duration(n)},isDuration:function(t){return t instanceof Duration},humanize:function(){return"Must Implement"},add:function(t,e){var r=this.duration(e,t).valueOf(),a=this.gDate.valueOf()+r;return new P(a)},subtract:function(t,e){var r=this.duration(e,t).valueOf(),a=this.gDate.valueOf()-r;return new P(a)},formatNumber:function(){var t;return"_default"===this.formatPersian?t=window.formatPersian===!1?!1:!0:this.formatPersian===!0?t=!0:this.formatPersian===!1?t=!1:$.error("Invalid Config 'formatPersian' !!"),t},format:function(e){function r(e){switch(formatToPersian=a.formatNumber(),e){case"a":return formatToPersian?i.hour>=12?"ب ظ":"ق ظ":i.hour>=12?"PM":"AM";case"H":return formatToPersian?t(i.hour):i.hour;case"HH":return formatToPersian?t(s(i.hour,2)):s(i.hour,2);case"h":var r=i.hour%12;return formatToPersian?t(r):r;case"hh":var r=i.hour%12;return formatToPersian?t(s(r,2)):s(r,2);case"m":return formatToPersian?t(i.minute):i.minute;case"mm":return formatToPersian?t(s(i.minute,2)):s(i.minute,2);case"s":return formatToPersian?t(i.second):i.second;case"ss":return formatToPersian?t(s(i.second,2)):s(i.second,2);case"D":return formatToPersian?t(s(i.date)):s(i.date);case"DD":return formatToPersian?t(s(i.date,2)):s(i.date,2);case"DDD":var n=a.startOf("year");return formatToPersian?t(a.diff(n,"days")):a.diff(n,"days");case"DDDD":var n=a.startOf("year");return formatToPersian?s(a.diff(n,"days"),3):t(s(a.diff(n,"days"),3));case"d":return formatToPersian?t(a.pDate.weekDayNumber):a.pDate.weekDayNumber;case"ddd":return g[a.pDate.weekDayNumber].abbr.fa;case"dddd":return g[a.pDate.weekDayNumber].name.fa;case"ddddd":return Y[a.pDate.monthDayNumber];case"w":var n=a.startOf("year");return parseInt(a.diff(n,"days")/7)+1;case"ww":var n=a.startOf("year");return s(parseInt(a.diff(n,"days")/7)+1,2);case"M":return formatToPersian?t(i.month):i.month;case"MM":return formatToPersian?t(s(i.month,2)):s(i.month,2);case"MMM":return w[i.month].abbr.fa;case"MMMM":return w[i.month].name.fa;case"YY":var o=(""+i.year).split("");return formatToPersian?t(o[2]+o[3]):o[2]+o[3];case"YYYY":return formatToPersian?t(i.year):i.year;case"Z":var u="+",h=Math.round(i.timezone/60),f=i.timezone%60;0>f&&(f*=-1),0>h&&(u="-",h*=-1);var c=u+s(h,2)+":"+s(f,2);return formatToPersian?t(c):c;case"ZZ":var u="+",h=Math.round(i.timezone/60),f=i.timezone%60;0>f&&(f*=-1),0>h&&(u="-",h*=-1);var c=u+s(h,2)+""+s(f,2);return formatToPersian?t(c):c;case"X":return a.unix();case"LT":return a.format("h:m a");case"L":return a.format("YYYY/MM/DD");case"l":return a.format("YYYY/M/D");case"LL":return a.format("MMMM DD YYYY");case"ll":return a.format("MMM DD YYYY");case"LLL":return a.format("MMMM YYYY DD   h:m  a");case"lll":return a.format("MMM YYYY DD   h:m  a");case"LLLL":return a.format("dddd D MMMM YYYY  h:m  a");case"llll":return a.format("ddd D MMM YYYY  h:m  a");default:return i._d}}var a=this,n=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DD?D?D?|ddddd|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|X|LT|ll?l?l?|LL?L?L?)/g,i={year:a.year(),month:a.month(),hour:a.hours(),minute:a.minutes(),second:a.seconds(),date:a.date(),timezone:a.zone(),unix:a.unix()};if(e)return e.replace(n,r);var e="YYYY-MM-DD HH:mm:ss a";return e.replace(n,r)},from:function(){return"Must Implement"},fromNow:function(){return"Must Implement"},humanizeDuration:function(){return"Must Implement"},_d:function(){return this.gDate._d},diff:function(t,e,r){var a,n=new P(this),s=t,i=0,o=n.gDate-s.gDate-i,u=n.year()-s.year(),h=n.month()-s.month(),f=-1*(n.date()-s.date());return a="months"===e||"month"===e?12*u+h+f/30:"years"===e||"year"===e?u+(h+f/30)/12:"seconds"===e||"second"===e?o/1e3:"minutes"===e||"minute"===e?o/6e4:"hours"===e||"hour"===e?o/36e5:"days"===e||"day"===e?o/864e5:"weeks"===e||"week"===e?o/6048e5:o,r?a:Math.round(a)},startOf:function(t){switch(t){case"years":case"year":return new P([this.year(),1,1]);case"months":case"month":return new P([this.year(),this.month(),1]);case"days":case"day":return new P([this.year(),this.month(),this.date(),0,0,0]);case"hours":case"hour":return new P([this.year(),this.month(),this.date(),this.hours(),0,0]);case"minutes":case"minute":return new P([this.year(),this.month(),this.date(),this.hours(),this.minutes(),0]);case"seconds":case"second":return new P([this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds()]);case"weeks":case"week":var e=this.pDate.weekDayNumber;return 0===e?new P([this.year(),this.month(),this.date()]):new P([this.year(),this.month(),this.date()]).subtract("days",e);default:return this}},endOf:function(t){switch(t){case"years":case"year":var e=this.isLeapYear()?30:29;return new P([this.year(),12,e,23,59,59]);case"months":case"month":var r=this.daysInMonth(this.year(),this.month());return new P([this.year(),this.month(),r,23,59,59]);case"days":case"day":return new P([this.year(),this.month(),this.date(),23,59,59]);case"hours":case"hour":return new P([this.year(),this.month(),this.date(),this.hours(),59,59]);case"minutes":case"minute":return new P([this.year(),this.month(),this.date(),this.hours(),this.minutes(),59]);case"seconds":case"second":return new P([this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds()]);case"weeks":case"week":var a=this.pDate.weekDayNumber;return a=6===a?7:6-a,new P([this.year(),this.month(),this.date()]).add("days",a);default:return this}},sod:function(){return this.startOf("day")},eod:function(){return this.endOf("day")},zone:function(){return this.pDate.timeZoneOffset},local:function(){if(this._utcMode){var t=1e3*60*this.pDate.timeZoneOffset;if(0>this.pDate.timeZoneOffset)var e=this.valueOf()-t;else var e=this.valueOf()+t;return this.gDate=new Date(e),this._updatePDate(),this._utcMode=!1,this}return this},utc:function(t){if(t)return new persianDate(t).utc();if(this._utcMode)return this;var e=1e3*60*this.pDate.timeZoneOffset;if(0>this.pDate.timeZoneOffset)var r=this.valueOf()+e;else var r=this.valueOf()-e;return this.gDate=new Date(r),this._updatePDate(),this._utcMode=!0,this},isUtc:function(){return this._utcMode},isDST:function(){var t=this.month(),e=this.date();return 7>t?!1:7==t&&e>=2||t>7?!0:void 0},isLeapYear:function(){return h(this.year())},daysInMonth:function(t,e){var r=t?t:this.year(),a=e?e:this.month();return 1>a||a>12?0:7>a?31:12>a?30:h(r)?30:29},toDate:function(){return this.gDate},toArray:function(){return[this.year(),this.month(),this.day(),this.hour(),this.minute(),this.second(),this.millisecond()]},_valueOf:function(){return this.gDate.valueOf()},unix:function(t){if(t)return new persianDate(1e3*t);var e=""+this.gDate.valueOf();return output=e.substring(0,e.length-3),parseInt(output)},isPersianDate:function(t){return t instanceof P},millisecond:function(t){return this.milliseconds(t)},milliseconds:function(t){return t?(this.gDate.setMilliseconds(t),this._updatePDate(),this):this.pDate.milliseconds},second:function(t){return this.seconds(t)},seconds:function(t){return t|0===t?(this.gDate.setSeconds(t),this._updatePDate(),this):this.pDate.seconds},minute:function(t){return this.minutes(t)},minutes:function(t){return t||0===t?(this.gDate.setMinutes(t),this._updatePDate(),this):this.pDate.minutes},hour:function(t){return this.hours(t)},hours:function(t){return t|0===t?(this.gDate.setHours(t),this._updatePDate(),this):this.pDate.hours},dates:function(t){return this.date(t)},date:function(t){if(t|0==t){var e=p(this.pDate);return e[2]=t,this.gDate=M(e),this._updatePDate(),this}return this.pDate.date},days:function(){return this.day()},day:function(){return this.pDate.day},month:function(t){if(t|0===t){var e=p(this.pDate);return e[1]=t,this.gDate=M(e),this._updatePDate(),this}return this.pDate.month},years:function(t){return this.year(t)},year:function(t){if(t|0===t){var e=p(this.pDate);return e[0]=t,this.gDate=M(e),this._updatePDate(),this}return this.pDate.year},getFirstWeekDayOfMonth:function(t,e){var r=D(t,e,1),a=l(r[0],r[1],r[2]);return 8===a[3]+2?1:7===a[3]+2?7:a[3]+2},clone:function(){var t=this;return new P(t.gDate)},_updatePDate:function(){this.pDate=y(this.gDate)},valueOf:function(){return this._valueOf()}},persianDate=P,pDate=P,persianDate.unix=persianDate.prototype.unix,persianDate.utc=persianDate.prototype.utc})();